(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,a,t){e.exports=t(30)},29:function(e,a,t){},30:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(9),l=t.n(r),s=t(2),i=t(3),m=t(14),u={storageData:[]},o=function(e,a){switch(a.type){case"FETCH_STORAGE":return Object(m.a)({},e,{storageData:[].concat(Object(i.a)(e.storageData),Object(i.a)(a.payload))});default:return e}},_=c.a.createContext(),p=["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"],d=["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],f=function(e){var a=e.item,t=e.currency,n=a.arrival_date,r=a.departure_date,l=new Date("20"+n.substring(n.lastIndexOf(".")+1),n.substring(n.indexOf(".")+1,n.lastIndexOf("."))-1,n.substring(0,n.indexOf("."))),s=new Date(r.substring(r.lastIndexOf(".")+1),r.substring(r.indexOf(".")+1,r.lastIndexOf("."))-1,r.substring(0,r.indexOf(".")));return c.a.createElement("div",{className:"App-main__element"},c.a.createElement("div",{className:"App-main__element__semi-block App-main__element__semi-block_left"},c.a.createElement("div",{className:"App-main__turkish"}),c.a.createElement("button",{className:"App-main__element__button"},c.a.createElement("p",{className:"App-main__element__button__label"},"\u041a\u0443\u043f\u0438\u0442\u044c"),c.a.createElement("p",{className:"App-main__element__button__label"},"\u0437\u0430","rub"===t&&" ".concat(Math.round(100*a.price)/100,"\u20bd"),"usd"===t&&" ".concat(Math.round(10*a.price/63.29)/10,"$"),"eur"===t&&" ".concat(Math.round(10*a.price/71.42)/10,"\u20ac")))),c.a.createElement("div",{className:"App-main__element__semi-block App-main__element__semi-block_right"},c.a.createElement("div",{className:"App-main__element__semi-block__part"},c.a.createElement("span",{className:"App-main__element__semi-block__time"},a.departure_time),c.a.createElement("div",{className:"App-main__element__semi-block__time_transfer"},c.a.createElement("p",{className:"App-main__element__semi-block__time_transfer__text"},a.stops>0&&"".concat(a.stops," ").concat(1===a.stops?"\u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430":"\u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")),c.a.createElement("hr",{className:"App-main__hr"}),c.a.createElement("div",{className:"App-main__plane"})),c.a.createElement("span",{className:"App-main__element__semi-block__time"},a.arrival_time)),c.a.createElement("div",{className:"App-main__element__semi-block__part"},c.a.createElement("span",{className:"App-main__element__semi-block__city"},a.origin,", ",a.origin_name),c.a.createElement("span",{className:"App-main__element__semi-block__city"},a.destination_name,", ",a.destination)),c.a.createElement("div",{className:"App-main__element__semi-block__part"},c.a.createElement("span",{className:"App-main__element__semi-block__date"},l.getDate()," ",p[l.getMonth()]," ",l.getFullYear(),", ",d[l.getDay()]),c.a.createElement("span",{className:"App-main__element__semi-block__date"},s.getDate()," ",p[s.getMonth()]," ",s.getFullYear(),", ",d[s.getDay()]))))},h=function(e){var a=e.index,t=e.currency,n=e.value,r=e.setCurrency;return c.a.createElement("button",{className:"currency-list__button currency-list__button_".concat(a).concat(t===n?" currency-list__button_active":""),onClick:function(){return r(n)}},n)},E=function(e){var a=e.currency,t=e.setCurrency;return c.a.createElement("div",{className:"currency"},c.a.createElement("p",{className:"App-aside__title"},"\u0412\u0430\u043b\u044e\u0442\u0430"),c.a.createElement("div",{className:"currency-list"},c.a.createElement(h,{value:"rub",index:"first",currency:a,setCurrency:t}),c.a.createElement(h,{value:"usd",index:"second",currency:a,setCurrency:t}),c.a.createElement(h,{value:"eur",index:"third",currency:a,setCurrency:t})))},b=function(e){var a=e.setCheck,t=e.countTransfer,n=e.checkedTransfer,r=e.label;return c.a.createElement("div",{className:"custom-checkbox",onClick:function(){return a(function(e){return e.includes(t)?e.splice(e.indexOf(t),1):e.push(t),Object(i.a)(e)})}},c.a.createElement("input",{type:"checkbox",checked:n,readOnly:!0}),c.a.createElement("span",null),c.a.createElement("p",{className:"custom-checkbox__label"},r))},v=function(e){var a=e.setCheck,t=e.checkedTransfer;return c.a.createElement("div",{className:"number-of-transfers"},c.a.createElement("p",{className:"App-aside__title"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),c.a.createElement("div",{className:"number-of-transfers__list"},c.a.createElement(b,{setCheck:a,checkedTransfer:t.includes(0),countTransfer:0,label:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"}),c.a.createElement(b,{setCheck:a,checkedTransfer:t.includes(1),countTransfer:1,label:"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430"}),c.a.createElement(b,{setCheck:a,checkedTransfer:t.includes(2),countTransfer:2,label:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"}),c.a.createElement(b,{setCheck:a,checkedTransfer:t.includes(3),countTransfer:3,label:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"})))},k=function(e){var a=e.loader;return c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:a?"loader":"logo",viewBox:"0 0 120 120"},c.a.createElement("circle",{cx:"60",cy:"60",r:"60",fill:"#4DB4FA"}),c.a.createElement("g",{className:"clouds"},c.a.createElement("path",{fill:"#FFF",d:"M193.61 76.4c-.86 0-1.7.1-2.54.3a16.18 16.18 0 0 0-20.2-12.34 18.09 18.09 0 0 0-34.15 5.9 13.91 13.91 0 0 0 1.5 27.74h55.4v-.07a10.78 10.78 0 1 0 0-21.53zm0 18.3h-55.37a10.61 10.61 0 1 1 0-21.23h1.65v-1.62A14.79 14.79 0 0 1 168.44 67l.6 1.52 1.53-.6c1.49-.58 3.07-.88 4.66-.87 6.77.04 12.37 5.3 12.83 12.05l.11 2.44 2.2-1.05a7.47 7.47 0 1 1 3.24 14.2z"}),c.a.createElement("path",{fill:"#FFF",d:"M311.19 78.57a12.94 12.94 0 0 0-14.8-12.35 15.58 15.58 0 0 0-29.54-4.85 12.46 12.46 0 0 0-17.12 11.52v.7A12.44 12.44 0 0 0 253.1 98h53.6l.09-.02a10.24 10.24 0 0 0 4.4-19.41zm-4.4 15.98h-53.6a9.14 9.14 0 0 1-1.33-18.18l1.61-.25-.3-1.61a9.16 9.16 0 0 1 8.98-10.78 9.2 9.2 0 0 1 4.69 1.38l1.75 1.05.68-2.23a12.3 12.3 0 0 1 23.94 3.94v2.37l2.17-.68c.93-.3 1.91-.46 2.9-.46a9.7 9.7 0 0 1 9.6 9.71v.58l-.08 1.25 1.2.4a6.94 6.94 0 0 1-2.21 13.51z"}),c.a.createElement("path",{fill:"#FFF",d:"M191.54 63.46h55.39v-.04a10.78 10.78 0 0 0 0-21.53c-.86 0-1.72.09-2.56.28a16.18 16.18 0 0 0-20.2-12.35 18.09 18.09 0 0 0-34.15 5.9 13.91 13.91 0 0 0 1.52 27.74zm.02-24.52l1.59-.01V37.3a14.8 14.8 0 0 1 28.55-4.85l.6 1.52 1.52-.58a12.82 12.82 0 0 1 17.5 11.18l.17 2.42 2.2-1.05a7.47 7.47 0 1 1 3.23 14.22h-55.36a10.61 10.61 0 1 1 0-21.23z"}),c.a.createElement("path",{fill:"#FFF",d:"M381.54 44.04a12.94 12.94 0 0 0-14.8-12.36 15.6 15.6 0 0 0-29.52-4.85 12.43 12.43 0 0 0-17.12 11.52v.7a12.43 12.43 0 0 0 3.32 24.4h53.72a10.23 10.23 0 0 0 4.4-19.4zm-4.49 15.99h-53.6a9.16 9.16 0 0 1-1.33-18.2l1.7-.25-.32-1.62a9.16 9.16 0 0 1 8.96-10.76c1.66.02 3.28.5 4.7 1.36l1.7 1 .65-1.95a12.3 12.3 0 0 1 23.95 3.78v2.38l2.19-.68a9.61 9.61 0 0 1 12.5 9.18v.58l-.08 1.24 1.2.4a6.94 6.94 0 0 1-2.22 13.54z"})),c.a.createElement("g",{className:"plane"},c.a.createElement("path",{fill:"#4DB4FA",d:"M106.5 80H30.88c-3.96-.42-7.33-3.02-10.05-7.73a60.2 60.2 0 0 1-5.5-15.48l-1.83-7.92h16.3l1.67 1.2c2 1.42 3.8 3.12 5.34 5.03.56.66 1.17 1.27 1.83 1.84h2.75L35.16 40h22l16.63 16.94h13.86l.72.16c7.72 1.84 11.53 3.98 13.2 7.63a58.95 58.95 0 0 1 2.51 6.95L106.5 80z"}),c.a.createElement("path",{fill:"#FFF",d:"M100.32 75.42H31.36c-2.44-.26-4.58-2.03-6.56-5.5a56.83 56.83 0 0 1-4.96-14.25l-.55-2.27h9l.48.35a22.56 22.56 0 0 1 4.42 4.16 24.93 24.93 0 0 0 3.67 3.67h11l-6.2-16.96h13.48l16.63 16.94h15.48c5.98 1.37 9.17 2.93 10.07 5.08.89 2.08 1.65 4.2 2.29 6.38l.71 2.4zm-68.65-3.67h63.66c-.39-1.2-.84-2.4-1.37-3.55 0 0-.72-1.43-7.34-2.97H70.23L53.6 48.28H47l6.22 16.95h-17.5l-.5-.39a28.36 28.36 0 0 1-4.81-4.6 18.11 18.11 0 0 0-3.23-3.16h-3.14c.9 3.82 2.24 7.51 4 11 1.21 2.2 2.46 3.5 3.63 3.67z"})))},g=function(e){var a=e.loading;return c.a.createElement("div",{className:a?"loading":"non-display"},c.a.createElement(k,{loader:!0}))},A=t(5),N=t.n(A),y=t(10),O=t(11),x=t(12),F=t(13),C=(t(23),t(31),t(27),Object(F.initializeApp)({apiKey:"AIzaSyArforO5vSGylgGO4BK0vkxtuT1Mu5Sjck",authDomain:"tz-aviasales.firebaseapp.com",databaseURL:"https://tz-aviasales.firebaseio.com",projectId:"tz-aviasales",storageBucket:"",messagingSenderId:"322434351956",appId:"1:322434351956:web:1ea8b738c50d2c88"}).database()),j=function(){function e(){Object(O.a)(this,e)}return Object(x.a)(e,null,[{key:"fetchAllStorage",value:function(){return C.ref("tickets").once("value").then(function(e){return e.val()})}}]),e}(),T=function(e,a){return e.price<a.price?-1:e.price>a.price?1:0},w=function(){var e=Object(y.a)(N.a.mark(function e(a,t){var n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.fetchAllStorage();case 2:return(n=e.sent).sort(T),t(),e.abrupt("return",a({type:"FETCH_STORAGE",payload:n}));case 6:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}(),z=function(){var e=c.a.useContext(_),a=e.state,t=e.dispatch,r=Object(n.useState)([]),l=Object(s.a)(r,2),i=l[0],m=l[1],u=Object(n.useState)("rub"),o=Object(s.a)(u,2),p=o[0],d=o[1],h=Object(n.useState)(!0),b=Object(s.a)(h,2),A=b[0],N=b[1];return Object(n.useEffect)(function(){0===a.storageData.length&&w(t,function(){return N(!1)}),4===i.length&&setTimeout(function(){return m(function(){return[]})},200)}),c.a.createElement(c.a.Fragment,null,c.a.createElement(g,{loading:A}),c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement(k,null)),c.a.createElement("section",{className:"App-section"},c.a.createElement("aside",{className:"aside"},c.a.createElement("div",{className:"App-aside"},c.a.createElement(E,{currency:p,setCurrency:d}),c.a.createElement(v,{setCheck:m,checkedTransfer:i}))),c.a.createElement("main",{className:"main"},c.a.createElement("div",{className:"App-main"},a.storageData.map(function(e,a){return 0===i.length||i.includes(e.stops)?c.a.createElement(f,{item:e,currency:p,key:a}):null}))))))},D=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(z,null))};t(29);l.a.render(c.a.createElement(function(e){var a=c.a.useReducer(o,u),t=Object(s.a)(a,2),n={state:t[0],dispatch:t[1]};return c.a.createElement(_.Provider,{value:n},e.children)},null,c.a.createElement(D,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.b7a737ff.chunk.js.map